# =============================================================================
# Eddo Environment Configuration
# =============================================================================
# Copy this file to .env and update values as needed.
# For quick setup: run `pnpm setup` which generates a minimal .env for you.
#
# REQUIRED for basic development:
#   - COUCHDB_URL (defaults work with docker-compose)
#   - NODE_ENV
#
# REQUIRED for Telegram bot:
#   - TELEGRAM_BOT_TOKEN
#   - ANTHROPIC_API_KEY
# =============================================================================

# =============================================================================
# ESSENTIAL: Required for Development
# =============================================================================

# CouchDB Configuration (matches docker-compose.yml defaults)
COUCHDB_URL=http://admin:password@localhost:5984
COUCHDB_DB_NAME=todos-dev

# Application Environment
NODE_ENV=development
LOG_LEVEL=info

# =============================================================================
# TELEGRAM BOT: Required if using the Telegram bot
# =============================================================================

# Get token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather

# Get API key from https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key

# Bot persona: butler, gtd_coach, zen_master
BOT_PERSONA_ID=butler

# LLM model (default: claude-sonnet-4-0)
# Options: claude-opus-4-0, claude-sonnet-4-0, claude-3-5-haiku-20241022
LLM_MODEL=claude-sonnet-4-0

# MCP Server URL (for Telegram bot to connect to)
MCP_SERVER_URL=http://localhost:3001/mcp

# =============================================================================
# SEARCH: Elasticsearch for full-text search
# =============================================================================

# Elasticsearch URL (port 9222 to avoid conflicts with other ES instances)
# Docker-compose maps internal 9200 to external 9222
ELASTICSEARCH_URL=http://localhost:9222

# =============================================================================
# OPTIONAL: Advanced Configuration
# =============================================================================

# --- Telegram Bot Advanced ---
# Whether to log user details (PII) in auth failures
TELEGRAM_LOG_USER_DETAILS=false

# --- Printer Service ---
# PRINTER_ENABLED=false
# PRINTER_IP_ADDRESS=192.168.1.100
# PRINTER_PORT=9100
# PRINTER_SCHEDULE_TIME=07:00

# =============================================================================
# OBSERVABILITY: OpenTelemetry Configuration
# =============================================================================
# Only needed if you want to export traces to an APM system.
# By default, logs go to console and file without OTEL export.

# --- Server-side OTEL ---
# Disable OTEL export (logs still work)
# OTEL_SDK_DISABLED=true

# OTLP endpoint (default: http://localhost:4318)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Service identification (auto-set per service)
# OTEL_SERVICE_NAME=eddo-telegram-bot
# OTEL_RESOURCE_ATTRIBUTES=service.version=0.3.0,deployment.environment=development

# API key for OTLP endpoint (optional)
# OTEL_API_KEY=your_api_key_here

# --- Browser RUM (VITE_ prefix exposes to browser) ---
# VITE_OTEL_ENABLED=true
# VITE_OTEL_SERVICE_NAME=eddo-web-client
# VITE_OTEL_SERVICE_VERSION=0.3.0
# VITE_OTEL_ENVIRONMENT=development
# VITE_OTEL_TRACES_ENDPOINT=/api/telemetry/v1/traces
# VITE_OTEL_LOG_LEVEL=warn

# --- EDOT Collector (for docker-compose.otel.yml) ---
# Elasticsearch API key: Kibana -> Stack Management -> API Keys
# ELASTIC_API_KEY=your_api_key_here

# Elasticsearch endpoint for collector
# COLLECTOR_ES_NODE=https://host.docker.internal:9200

# TLS for self-signed certs
# OTEL_TLS_VERIFY=false
# OTEL_CA_FILE=/path/to/ca.pem

# CouchDB metrics scraping
# COUCHDB_USERNAME=admin
# COUCHDB_PASSWORD=password
